import{e as w,r as a,j as e,L as i}from"./index-BwjIhAk5.js";import{X as v,D as r}from"./DataTableSettings-DsshIM33.js";import{c as N}from"./index-6cARXTD6.js";import{e as C}from"./index-BFbuKzBk.js";import{a as y}from"./AxiosInterceptor-C0G1OxbU.js";import{L as E}from"./index-DBZWtKGJ.js";import{F as c}from"./Form-Cyv1odcU.js";import{B as L}from"./Button-BDb3Qyxz.js";import"./iconBase-i6NgAem3.js";import"./Col-BeHysn_4.js";const O=()=>{const l=w(),n=a.useRef(!1),[d,P]=a.useState(!1),[m,u]=a.useState(""),[h,p]=a.useState([]),x=["itemGroupName","isActive"];a.useEffect(()=>{n.current||(n.current=!0,g())},[]);const g=async()=>{var t,o;try{const s=await y.get("/discountsetup"),f=(o=(t=s==null?void 0:s.data)==null?void 0:t.list)==null?void 0:o.sort((b,S)=>new Date(S.createdDate)-new Date(b.createdDate));p(f)}catch(s){console.error("Error fetching table data",s)}},D=[{name:e.jsx("h5",{children:"Name"}),selector:t=>t.DiscountName,sortable:!0},{name:e.jsx("h5",{children:"Client Code"}),selector:t=>`${t.DiscountRate}%`,sortable:!0},{name:e.jsx("h5",{children:"Client Type Descr"}),selector:t=>new Date(t.DiscountStart).toLocaleString(),sortable:!0},{name:e.jsx("h5",{children:"Member Id"}),selector:t=>new Date(t.DiscountEnd).toLocaleString(),sortable:!0},{name:e.jsx("h5",{children:"Email"}),selector:t=>new Date(t.DiscountEnd).toLocaleString(),sortable:!0},{name:e.jsx("h5",{children:"ACCD"}),selector:t=>new Date(t.DiscountEnd).toLocaleString(),sortable:!0},{name:e.jsx("h5",{children:"Dallow"}),selector:t=>new Date(t.DiscountEnd).toLocaleString(),sortable:!0},{name:e.jsx("h5",{children:"Status"}),cell:t=>e.jsx("span",{style:{color:t.isActive?"green":"red",fontWeight:"bold"},children:t.isActive?"Active":"Inactive"}),sortable:!0},{name:e.jsx("h5",{children:"Action"}),center:!0,cell:t=>e.jsxs(e.Fragment,{children:[e.jsx(i,{className:"action-icon",children:e.jsx(C,{size:24,color:"blue"})}),e.jsx(i,{className:"action-icon",children:e.jsx(N,{size:30,style:{margin:"1vh"},color:"red"})})]})}],j=a.useMemo(()=>e.jsxs("div",{className:"d-flex justify-content-end gap-2 align-items-center w-100",children:[e.jsx(c,{className:"d-flex",children:e.jsx(c.Control,{type:"search",placeholder:"Search...",className:"me-2 rounded-pill","aria-label":"Search",onChange:t=>u(t.target.value)})}),e.jsx(L,{variant:"primary",onClick:()=>l("/discount-setupform"),children:"New Discount Setup"})]}),[]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"d-flex",children:[e.jsx(E,{}),e.jsx("div",{className:"p-3",style:{width:"93vw"},children:e.jsx("div",{className:"border rounded-2xl p-4 shadow-lg mt-6",style:{width:"100%"},children:e.jsx(v,{className:"DataTable",columns:D,data:r.filterItems(h,x,m),pagination:!0,paginationPerPage:r.paginationPerPage,paginationRowsPerPageOptions:r.paginationRowsPerPageOptions,progressPending:d,subHeader:!0,fixedHeaderScrollHeight:"400px",subHeaderComponent:j,persistTableHead:!0})})})]})})};export{O as default};
