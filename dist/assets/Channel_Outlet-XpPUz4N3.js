import{r as p,j as e}from"./index-BwjIhAk5.js";import{G as g}from"./index-CjJ6jxNk.js";import{B as V}from"./index-x1L1wPfd.js";import{F as B}from"./index-CI57OQHg.js";import{T as G}from"./index-D0LwIwlf.js";import{M as b}from"./index-6cARXTD6.js";/* empty css              */import{a as R}from"./index-D6nvb1sw.js";import{a as D}from"./AxiosInterceptor-C0G1OxbU.js";import{F as d}from"./Form-Cyv1odcU.js";import{I as s}from"./InputGroup-B5T7iIyR.js";import{L as M,y as r}from"./index-DBZWtKGJ.js";/* empty css                      */import"./iconBase-i6NgAem3.js";import"./Col-BeHysn_4.js";const re=()=>{const y={channel_name:"",channel_address:"",channel_phone:"",channel_email:"",channel_pan:"",channel_gstNo:"",outlet_name:"",outlet_sac:"",outlet_phone:"",outlet_email:""},[t,T]=p.useState(y),[l,f]=p.useState({}),[z,Z]=p.useState(1),N=["src/assets/login1.jpeg","src/assets/logIn3.jpg","src/assets/login.jpeg"],[I,S]=p.useState(0),[E,j]=p.useState(!0),[v,C]=p.useState(!1),x=["registration","subscription","login","configure"],[A,U]=p.useState("configure");p.useEffect(()=>{let a;const c=()=>{j(!1),a=setTimeout(()=>{S(i=>(i+1)%N.length),j(!0),a=setTimeout(c,4500)},500)};return c(),()=>clearTimeout(a)},[]);const m=(a,c)=>{T(i=>({...i,[a]:c})),f(i=>({...i,[a]:""}))},w=()=>{const{channel_name:a,channel_address:c,channel_phone:i,channel_email:_,channel_pan:o,channel_gstNo:u}=t,n={};let h=!0;const P=/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,F=/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/;return a?/^[a-zA-Z ]+$/.test(a)||(h=!1,n.channel_name="Name must contain only letters.",r.error(n.channel_name)):(h=!1,n.channel_name="Channel name is required.",r.error(n.channel_name)),c||(h=!1,n.channel_address="Channel Address is required.",r.error(n.channel_address)),i?/^[0-9]{10}$/.test(i)||(h=!1,n.channel_phone="Phone must be 10 digits",r.error(n.channel_phone)):(h=!1,n.channel_phone="Channel Phone is required.",r.error(n.channel_phone)),_?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(_)||(h=!1,n.channel_email="Email is invalid.",r.error(n.channel_email)):(h=!1,n.channel_email="Email is required.",r.error(n.channel_email)),o?P.test(o)||(h=!1,n.channel_pan="Enter a valid PAN (e.g., ABCDE1234F).",r.error(n.channel_pan)):(h=!1,n.channel_pan="PAN is required.",r.error(n.channel_pan)),u?F.test(u)||(h=!1,n.channel_gstNo="Enter a valid GST No (e.g., 22ABCDE1234F1Z5).",r.error(n.channel_gstNo)):(h=!1,n.channel_gstNo="GST No is required.",r.error(n.channel_gstNo)),f(L=>({...L,...n})),h},q=()=>{const{outlet_name:a,outlet_sac:c,outlet_phone:i,outlet_email:_}=t,o={};let u=!0;return a?/^[a-zA-Z ]+$/.test(a)||(u=!1,o.outlet_name="Name must contain only letters.",r.error(o.outlet_name)):(u=!1,o.outlet_name="Outlet name is required.",r.error(o.outlet_name)),c||(u=!1,o.outlet_sac="SAC is required.",r.error(o.outlet_sac)),i?/^[0-9]{10}$/.test(i)||(u=!1,o.outlet_phone="Phone must be 10 digits",r.error(o.outlet_phone)):(u=!1,o.outlet_phone="Outlet phone is required.",r.error(o.outlet_phone)),_?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(_)||(u=!1,o.outlet_email="Email is invalid.",r.error(o.outlet_email)):(u=!1,o.outlet_email="Outlet email is required.",r.error(o.outlet_email)),f(o),u},O=()=>{w()&&(C(!0),setTimeout(()=>{Z(2),C(!1)},400))},$=async a=>{if(a.preventDefault(),!q())return;const c={channelName:t.channel_name,address:t.channel_address,phone:t.channel_phone,email:t.channel_email,pan:t.channel_pan,gstNo:t.channel_gstNo,outletName:t.outlet_name,outletPhone:t.outlet_phone,outletEmail:t.outlet_email,sac:t.outlet_sac};console.log(c);try{(await D.post("/channels/addchanneloutlet",c)).data.isValid||f({Password:"Invalid credentials"})}catch(i){console.error("API Error:",i),f({Password:"Login failed. Try again."})}};return e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-md-12 w-100",children:e.jsx("div",{className:"stepper",children:x.map((a,c)=>{const i=A===a,_=c<x.indexOf(A);return e.jsx("div",{className:"step-wrapper",children:e.jsxs("div",{className:`step ${i?"active":""} ${_?"completed":""}`,children:[e.jsx("div",{className:"step-circle",children:c+1}),e.jsx("div",{className:"step-label",children:a.charAt(0).toUpperCase()+a.slice(1)}),c<x.length-1&&e.jsx("div",{className:"step-line"})]})},a)})})})}),e.jsx(M,{position:"top-right",autoClose:3e3}),e.jsxs("div",{className:"row main-img-div",children:[e.jsx("div",{className:"col-md-9 rounded h-100",children:e.jsx("img",{style:{height:"100%",width:"100%",transition:"opacity 0.5s ease",opacity:E?1:0},src:N[I],alt:"",className:"rounded"})}),e.jsx("div",{className:"col-md-3 d-flex align-items-end justify-content-center",children:z===1?e.jsx(e.Fragment,{children:e.jsxs("form",{className:`bg-white ${v?"fade-out":"fade-in"} w-100 h-100  rounded p-3 d-flex flex-column align-items-center gap-4`,noValidate:!0,children:[e.jsx("h2",{className:"mb-2 fw-bold fs-3",children:"Create Channel"}),e.jsxs(s,{hasValidation:!0,className:"",children:[e.jsx(s.Text,{children:e.jsx(g,{size:25,color:"#ffc800"})}),e.jsx(d.Control,{type:"text",className:"custom-input ",required:!0,placeholder:"Channel Name",isInvalid:!!l.channel_name,isValid:t.channel_name&&!l.channel_name,name:"channel_name",value:t.channel_name||"",onChange:a=>m("channel_name",a.target.value.replace(/[^a-zA-Z ]/g,""))})]}),e.jsxs(s,{hasValidation:!0,className:"",children:[e.jsx(s.Text,{children:e.jsx(V,{size:25,color:"#ffc800"})}),e.jsx(d.Control,{className:"custom-input ",type:"tel",name:"channel_phone",value:t.channel_phone||"",onChange:a=>{/^\d*$/.test(a.target.value)&&m("channel_phone",a.target.value)},minLength:10,maxLength:15,autoComplete:"off",isInvalid:!!l.channel_phone,isValid:t.channel_phone&&!l.channel_phone,placeholder:"Phone Number"})]}),e.jsxs(s,{hasValidation:!0,className:"",children:[e.jsx(s.Text,{children:e.jsx(b,{size:25,color:"#ffc800"})}),e.jsx(d.Control,{className:"custom-input ",type:"mail",name:"channel_email",value:t.channel_email||"",onChange:a=>m("channel_email",a.target.value),autoComplete:"off",isInvalid:!!l.channel_email,isValid:t.channel_email&&!l.channel_email,placeholder:"Email Address"})]}),e.jsxs(s,{hasValidation:!0,className:"",children:[e.jsx(s.Text,{children:e.jsx(R,{size:25,color:"#ffc800"})}),e.jsx(d.Control,{className:"custom-input ",type:"text",name:"channel_address",value:t.channel_address||"",onChange:a=>m("channel_address",a.target.value),autoComplete:"off",isInvalid:!!l.channel_address,isValid:t.channel_address&&!l.channel_address,placeholder:"Address"})]}),e.jsxs(s,{hasValidation:!0,className:"",children:[e.jsx(s.Text,{children:e.jsx(B,{size:25,color:"#ffc800"})}),e.jsx(d.Control,{className:"custom-input ",type:"text",name:"channel_pan",value:t.channel_pan||"",onChange:a=>m("channel_pan",a.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),maxLength:10,autoComplete:"off",isInvalid:!!l.channel_pan,isValid:t.channel_pan&&!l.channel_pan,placeholder:"Pan Number"})]}),e.jsxs(s,{hasValidation:!0,className:"",children:[e.jsx(s.Text,{children:e.jsx(G,{size:25,color:"#ffc800"})}),e.jsx(d.Control,{className:"custom-input ",type:"text",name:"channel_gstNo",value:t.channel_gstNo||"",onChange:a=>m("channel_gstNo",a.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),maxLength:15,isInvalid:!!l.channel_gstNo,isValid:t.channel_gstNo&&!l.channel_gstNo,placeholder:"GST Number",autoComplete:"off"})]}),e.jsx("button",{type:"button",className:"submitBtnStyle",onClick:O,children:"Next"})]})}):e.jsx(e.Fragment,{children:e.jsxs("form",{className:` ${v?"fade-out":"fade-in"} bg-white w-100 h-100  rounded p-3 d-flex flex-column align-items-center gap-4`,noValidate:!0,children:[e.jsx("h2",{className:"mb-2 fw-bold fs-3",children:"Create Outlet"}),e.jsxs(s,{hasValidation:!0,className:"",children:[e.jsx(s.Text,{children:e.jsx(g,{size:25,color:"#ffc800"})}),e.jsx(d.Control,{className:"custom-input ",type:"text",required:!0,name:"outlet_name",isInvalid:!!l.outlet_name,isValid:t.outlet_name&&!l.outlet_name,placeholder:"Outlet Name",value:t.outlet_name||"",onChange:a=>m("outlet_name",a.target.value.replace(/[^a-zA-Z ]/g,"")),autoComplete:"off"})]}),e.jsxs(s,{hasValidation:!0,className:"",children:[e.jsx(s.Text,{children:e.jsx(g,{size:25,color:"#ffc800"})}),e.jsx(d.Control,{className:"custom-input ",type:"text",placeholder:"Outlet Sac Code",required:!0,name:"outlet_sac",isInvalid:!!l.outlet_sac,isValid:t.outlet_sac&&!l.outlet_sac,value:t.outlet_sac||"",onChange:a=>m("outlet_sac",a.target.value),autoComplete:"off"})]}),e.jsxs(s,{hasValidation:!0,className:"",children:[e.jsx(s.Text,{children:e.jsx(V,{size:25,color:"#ffc800"})}),e.jsx(d.Control,{className:"custom-input ",type:"phone",placeholder:"Outlet Phone Number",required:!0,name:"outlet_phone",isInvalid:!!l.outlet_phone,isValid:t.outlet_phone&&!l.outlet_phone,value:t.outlet_phone||"",onChange:a=>m("outlet_phone",a.target.value),autoComplete:"off"})]}),e.jsxs(s,{hasValidation:!0,className:"",children:[e.jsx(s.Text,{children:e.jsx(b,{size:25,color:"#ffc800"})}),e.jsx(d.Control,{className:"custom-input ",type:"email",placeholder:"Outlet Email",required:!0,name:"outlet_email",isInvalid:!!l.outlet_email,isValid:t.outlet_email&&!l.outlet_email,value:t.outlet_email||"",onChange:a=>m("outlet_email",a.target.value),autoComplete:"off"})]}),e.jsx("button",{type:"button",className:"submitBtnStyle",onClick:a=>$(a),children:"Submit"})]})})})]})]})};export{re as default};
