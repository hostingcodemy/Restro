import{e as j,r as a,j as e,L as n}from"./index-BwjIhAk5.js";import{X as b,D as s}from"./DataTableSettings-DsshIM33.js";import{c as N}from"./index-6cARXTD6.js";import{e as C}from"./index-BFbuKzBk.js";import{a as v}from"./AxiosInterceptor-C0G1OxbU.js";import{F as i}from"./Form-Cyv1odcU.js";import{B as P}from"./Button-BDb3Qyxz.js";import"./iconBase-i6NgAem3.js";import"./Col-BeHysn_4.js";const T=()=>{const r=j(),o=a.useRef(!1),[l,y]=a.useState(!1),[c,m]=a.useState(""),[d,u]=a.useState([]),h=["firstName","lastName"];a.useEffect(()=>{o.current||(o.current=!0,p())},[]);const p=async()=>{try{const t=await v.get("/customers",{});u(t.data.list)}catch(t){console.error("Error fetching table data",t)}},x=t=>{console.log(t,"kk"),r("/customer-form",{state:{groupData:t}})},g=[{name:e.jsx("h5",{children:"Customer Name"}),selector:t=>`${t.firstName} ${t.lastName}`,sortable:!0},{name:e.jsx("h5",{children:"Mobile"}),selector:t=>t.mobile,sortable:!0},{name:e.jsx("h5",{children:"Mobile"}),selector:t=>t.email,sortable:!0},{name:e.jsx("h5",{children:"Status"}),selector:t=>t.status,sortable:!0},{name:e.jsx("h5",{children:"Action"}),center:!0,cell:t=>e.jsxs(e.Fragment,{children:[e.jsx(n,{className:"action-icon",onClick:()=>x(t),children:e.jsx(C,{size:24,color:"blue"})}),e.jsx(n,{className:"action-icon",children:e.jsx(N,{size:30,style:{margin:"1vh"},color:"red"})})]})}],f=a.useMemo(()=>e.jsxs("div",{className:"d-flex justify-content-end gap-2 align-items-center w-100",children:[e.jsx(i,{className:"d-flex",children:e.jsx(i.Control,{type:"search",placeholder:"Search...",className:"me-2 rounded-pill","aria-label":"Search",onChange:t=>m(t.target.value)})}),e.jsx(P,{variant:"primary",onClick:()=>r("/customer-form"),children:"New Customer"})]}),[]);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex",children:e.jsx("div",{className:"p-3",style:{width:"100vw"},children:e.jsx("div",{className:"border rounded-2xl p-4 shadow-lg mt-6",style:{width:"100%"},children:e.jsx(b,{columns:g,data:s.filterItems(d,h,c),pagination:!0,paginationPerPage:s.paginationPerPage,paginationRowsPerPageOptions:s.paginationRowsPerPageOptions,progressPending:l,subHeader:!0,fixedHeaderScrollHeight:"400px",subHeaderComponent:f,persistTableHead:!0})})})})})};export{T as default};
